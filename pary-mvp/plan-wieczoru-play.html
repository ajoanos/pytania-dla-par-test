<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex" />
  <title>Plan Wieczoru â€“ We Dwoje</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="momenty-theme.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">
  <script type="module" src="assets/js/app.js"></script>
  <script type="module" src="assets/js/plan-wieczoru.js"></script>
</head>
<body class="page page--game momenty-app" data-theme="light" data-game-id="plan_wieczoru">
  <div class="game-topbar">
    <div>
      <p class="game-topbar__title">Plan Wieczoru â€“ We Dwoje</p>
      <p class="game-topbar__subtitle">KrÃ³tki rytuaÅ‚ planowania wieczoru, w ktÃ³rym tempo ustalacie razem.</p>
    </div>
    <div class="game-topbar__actions">
      <a class="btn btn-ghost" href="index.html">ZmieÅ„ grÄ™</a>
      <button class="btn btn-secondary" type="button" data-action="open-rules">Zasady</button>
    </div>
  </div>
  <main class="container">
    <header class="hero">
      <div class="hero__branding">
        <a class="hero__logo-link" href="index.html">
          <img
            class="hero__logo"
            src="https://sklep.allemedia.pl/momenty/logo.png"
            alt="Momenty"
          />
        </a>
        <div class="hero__text">
          <h1>Plan Wieczoru â€“ We Dwoje</h1>
          <p>PrzejdÅº przez kilka krokÃ³w i zaplanuj Wasz wspÃ³lny wieczÃ³r.</p>
        </div>
        <details class="game-switcher">
          <summary class="game-switcher__toggle">Wybierz grÄ™</summary>
          <div class="game-switcher__panel">
            <ul class="game-switcher__list">
              <li><a class="game-switcher__link" href="pytania-dla-par.html">Pytania dla par</a></li>
              <li><a class="game-switcher__link" href="nigdy-przenigdy.html">Nigdy przenigdy</a></li>
              <li><a class="game-switcher__link" href="plan-wieczoru.html" aria-current="page">Plan Wieczoru â€“ We Dwoje</a></li>
              <li><a class="game-switcher__link" href="planszowa.html">PlanszÃ³wka dla dwojga (dla dorosÅ‚ych)</a></li>
              <li><a class="game-switcher__link" href="planszowa-romantyczna.html">PlanszÃ³wka dla dwojga (romantyczna, zbliÅ¼ajÄ…ca)</a></li>
              <li><a class="game-switcher__link" href="trio-challenge.html">KÃ³Å‚ko i krzyÅ¼yk Wyzwanie</a></li>
              <li><a class="game-switcher__link" href="zdrapka-pozycji.html">Zdrapka pozycji</a></li>
              <li><a class="game-switcher__link" href="pozycje-na-czas.html">Pozycje na czas</a></li>
              <li><a class="game-switcher__link" href="niegrzeczne-kolo.html">Niegrzeczne koÅ‚o</a></li>
              <li><a class="game-switcher__link" href="poznaj-wszystkie-pozycje.html">Poznaj wszystkie pozycje</a></li>
              <li><a class="game-switcher__link" href="tinder-dla-sexu.html">Tinder z pozycjami</a></li>
              <li><a class="game-switcher__link" href="5-7-10.html">5 â€¢ 7 â€¢ 10 sekund</a></li>
            </ul>
          </div>
        </details>
      </div>
      <button class="btn btn--ghost" id="theme-toggle" type="button" aria-label="PrzeÅ‚Ä…cz motyw">ğŸŒ™</button>
    </header>

    <section class="card card--game" id="plan-card">
      <header class="card__header">
        <h2>TwÃ³j plan</h2>
        <p id="plan-caption">Wybierz odpowiedzi w kolejnych krokach. Wszystko zapisujemy tylko dla Was.</p>
      </header>

      <div id="plan-loader" class="game-loader" role="status">Åadujemy zabawÄ™â€¦</div>
      <p id="plan-error" class="game-error" role="alert" hidden></p>

      <div id="plan-flow" class="game-flow" hidden>
        <div class="game-progress" id="plan-progress"></div>
        <article class="game-step" id="plan-step" aria-live="polite"></article>
        <div class="game-actions">
          <button type="button" class="btn btn--ghost" id="plan-back">Wstecz</button>
          <button type="button" class="btn btn--primary" id="plan-next">Dalej</button>
        </div>
      </div>

      <article id="plan-summary" class="game-summary" hidden>
        <header class="game-summary__header">
          <h2 id="plan-summary-title">TwÃ³j plan wieczoru jest gotowy!</h2>
          <p id="plan-summary-subtitle">SprawdÅº, czy wszystko siÄ™ zgadza i wyÅ›lij plan do partnera.</p>
        </header>
        <dl class="game-summary__list" id="plan-summary-list"></dl>
        <form id="plan-summary-form" class="form form--stack">
          <div class="form__notice" role="note">
            <p>Adresy e-mail sÅ‚uÅ¼Ä… tylko do wysÅ‚ania wiadomoÅ›ci i nie przechowujemy ich na serwerze.</p>
          </div>
          <label class="form__field">
            <span>TwÃ³j e-mail</span>
            <input
              type="email"
              id="plan-your-email"
              name="your_email"
              placeholder="np. ja@adres.pl"
              autocomplete="email"
              required
            />
          </label>
          <label class="form__field">
            <span>E-mail partnera</span>
            <input
              type="email"
              id="plan-partner-email"
              name="partner_email"
              placeholder="np. partner@adres.pl"
              autocomplete="email"
              required
            />
          </label>
          <p class="form__hint" id="plan-email-hint">
            Na TwÃ³j adres wyÅ›lemy informacjÄ™, gdy partner kliknie â€Zgadzam siÄ™â€ lub â€Nie zgadzam siÄ™â€. MoÅ¼esz teÅ¼ odpisaÄ‡ na wiadomoÅ›Ä‡ prosto z e-maila.
          </p>
          <div class="form__actions">
            <button type="submit" class="btn btn--primary" id="plan-send">WyÅ›lij plan do partnera</button>
            <button type="button" class="btn btn--ghost" id="plan-reset">Zacznij od nowa</button>
          </div>
          <div class="form__notice" role="note">
            <p>Pokoje istniejÄ… przez 6 godzin od utworzenia i kasujÄ… siÄ™ automatycznie.</p>
          </div>
        </form>
        <p class="game-summary__feedback" id="plan-summary-feedback" role="status" aria-live="polite"></p>
      </article>

      <section class="plan-history" id="plan-history" hidden>
        <header class="plan-history__header">
          <h3>Historia propozycji</h3>
          <p class="plan-history__hint">Zobacz wczeÅ›niejsze pomysÅ‚y zgÅ‚oszone w tym pokoju.</p>
        </header>
        <p class="plan-history__empty" id="plan-history-empty" hidden>Jeszcze nikt nic nie zaproponowaÅ‚. Zacznij od wysÅ‚ania pierwszego planu!</p>
        <p class="plan-history__error" id="plan-history-error" hidden>Nie udaÅ‚o siÄ™ pobraÄ‡ historii. SprÃ³buj odÅ›wieÅ¼yÄ‡ stronÄ™.</p>
        <ol class="plan-history__list" id="plan-history-list"></ol>
      </section>
    </section>

    <footer class="footer">
      <nav class="footer__nav">
        <a href="index.html">PowrÃ³t do wyboru gier</a>
      </nav>
    </footer>
  </main>

  <div class="game-intro-overlay">
    <div class="game-intro">
      <h2>Zanim zaczniecieâ€¦</h2>
      <p>PrzejdÅºcie przez kilka pytaÅ„, aby ustaliÄ‡, jakiego wieczoru potrzebujecie i jak go rozplanowaÄ‡.</p>
      <ul>
        <li>Odpowiadajcie szczerze â€“ wyniki widzicie tylko Wy i moÅ¼ecie je poprawiÄ‡.</li>
        <li>Wybierajcie propozycje, ktÃ³re sÄ… komfortowe dla obu stron.</li>
        <li>OdÅ‚Ã³Å¼cie inne urzÄ…dzenia, Å¼eby skupiÄ‡ siÄ™ na rozmowie.</li>
      </ul>
      <div class="game-overlay__actions">
        <button class="btn btn-primary" type="button" data-intro-start>Zaczynamy</button>
      </div>
    </div>
  </div>

  <div class="modal" id="rules-modal" aria-hidden="true" role="dialog">
    <div class="modal__dialog">
      <div class="modal__header">
        <h3>Zasady gry</h3>
        <button class="modal__close" type="button" data-action="close-modal">Zamknij</button>
      </div>
      <div class="modal__body">
        <p>Odpowiedzcie na kilka pytaÅ„ o Wasz nastrÃ³j, a aplikacja podpowie, czy wolicie wieczÃ³r spokojny, romantyczny czy bardziej energiczny.</p>
        <p>KaÅ¼dy krok moÅ¼na poprawiÄ‡, a plan moÅ¼ecie wysÅ‚aÄ‡ partnerowi albo przejÅ›Ä‡ przez niego razem.</p>
      </div>
    </div>
  </div>

  <script src="game-intro.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const modal = document.getElementById('rules-modal');
      const openBtn = document.querySelector('[data-action="open-rules"]');
      const closeBtn = modal?.querySelector('[data-action="close-modal"]');
      const openModal = () => {
        modal?.classList.add('is-open');
        modal?.setAttribute('aria-hidden', 'false');
      };
      const closeModal = () => {
        modal?.classList.remove('is-open');
        modal?.setAttribute('aria-hidden', 'true');
      };
      openBtn?.addEventListener('click', openModal);
      closeBtn?.addEventListener('click', closeModal);
      modal?.addEventListener('click', (event) => {
        if (event.target === modal) closeModal();
      });
    });
  </script>
</body>
</html>
