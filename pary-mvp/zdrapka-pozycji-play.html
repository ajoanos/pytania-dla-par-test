<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex" />
  <title>Zdrapka pozycji</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="momenty-theme.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">
  <script type="module" src="assets/js/zdrapka-pozycji.js"></script>
</head>
<body class="page page--scratch momenty-app" data-theme="dark" data-game-id="zdrapka_pozycji">
  <div class="game-topbar">
    <div>
      <p class="game-topbar__title">Zdrapka pozycji</p>
      <p class="game-topbar__subtitle">Losujcie delikatne propozycje w swoim tempie â€“ kaÅ¼dÄ… moÅ¼na pominÄ…Ä‡.</p>
    </div>
    <div class="game-topbar__actions">
      <a class="btn btn-ghost" href="index.html">ZmieÅ„ grÄ™</a>
      <button class="btn btn-secondary" type="button" data-action="open-rules">Zasady</button>
    </div>
  </div>
  <main class="container">
    <header class="hero">
      <div class="hero__branding">
        <a class="hero__logo-link" href="index.html">
          <img
            class="hero__logo"
            src="https://sklep.allemedia.pl/momenty/logo.png"
            alt="Momenty"
          />
        </a>
        <div class="hero__text">
          <h1>Zdrapka pozycji</h1>
          <p>Zdrapuj kolor, aby odkryÄ‡, co czeka na Was dziÅ› wieczorem.</p>
        </div>
        <details class="game-switcher">
          <summary class="game-switcher__toggle">Wybierz grÄ™</summary>
          <div class="game-switcher__panel">
            <ul class="game-switcher__list">
              <li><a class="game-switcher__link" href="pytania-dla-par.html">Pytania dla par</a></li>
              <li><a class="game-switcher__link" href="nigdy-przenigdy.html">Nigdy przenigdy</a></li>
              <li><a class="game-switcher__link" href="plan-wieczoru.html">Plan Wieczoru â€“ We Dwoje</a></li>
              <li><a class="game-switcher__link" href="planszowa.html">PlanszÃ³wka dla dwojga (dla dorosÅ‚ych)</a></li>
              <li><a class="game-switcher__link" href="planszowa-romantyczna.html">PlanszÃ³wka dla dwojga (romantyczna, zbliÅ¼ajÄ…ca)</a></li>
              <li><a class="game-switcher__link" href="trio-challenge.html">KÃ³Å‚ko i krzyÅ¼yk Wyzwanie</a></li>
              <li><a class="game-switcher__link" href="zdrapka-pozycji.html" aria-current="page">Zdrapka pozycji</a></li>
              <li><a class="game-switcher__link" href="pozycje-na-czas.html">Pozycje na czas</a></li>
              <li><a class="game-switcher__link" href="niegrzeczne-kolo.html">Niegrzeczne koÅ‚o</a></li>
              <li><a class="game-switcher__link" href="poznaj-wszystkie-pozycje.html">Poznaj wszystkie pozycje</a></li>
              <li><a class="game-switcher__link" href="tinder-dla-sexu.html">Tinder z pozycjami</a></li>
              <li><a class="game-switcher__link" href="5-7-10.html">5 â€¢ 7 â€¢ 10 sekund</a></li>
            </ul>
          </div>
        </details>
      </div>
      <button class="btn btn--ghost" id="theme-toggle" type="button" aria-label="PrzeÅ‚Ä…cz motyw">ğŸŒ™</button>
    </header>

    <section class="card card--scratch" id="scratch-card">
      <h2>Zdrap, aby odkryÄ‡</h2>
      <p class="card__lead">PrzesuÅ„ palcem lub kursorem po czerwonym kole, aby odsÅ‚oniÄ‡ pozycjÄ™.</p>
      <div class="scratch-card" data-role="scratch-card">
        <img id="scratch-image" class="scratch-card__image" alt="Ukryta pozycja" />
        <canvas id="scratch-canvas" class="scratch-card__canvas" aria-hidden="true"></canvas>
      </div>
      <p class="card__hint" id="scratch-status" role="status" aria-live="polite" hidden></p>
      <div class="card__actions">
        <button type="button" class="btn btn--primary" id="next-card">NastÄ™pna karta</button>
      </div>
    </section>

    <footer class="footer">
      <nav class="footer__nav">
        <a href="index.html">PowrÃ³t do wyboru gier</a>
      </nav>
    </footer>
  </main>

  <div class="game-intro-overlay">
    <div class="game-intro">
      <h2>Zanim zaczniecieâ€¦</h2>
      <p>Ta zdrapka to delikatne inspiracje â€“ korzystajcie z nich tylko wtedy, gdy oboje macie ochotÄ™.</p>
      <ul>
        <li>Losujcie pozycje w dowolnej kolejnoÅ›ci i tempo dopasujcie do siebie.</li>
        <li>MoÅ¼ecie pominÄ…Ä‡ kaÅ¼dÄ… pozycjÄ™ lub wylosowaÄ‡ kolejnÄ….</li>
        <li>Ustalcie gest lub sÅ‚owo stop, Å¼eby zatrzymaÄ‡ grÄ™ w kaÅ¼dym momencie.</li>
      </ul>
      <div class="game-overlay__actions">
        <button class="btn btn-primary" type="button" data-intro-start>Zaczynamy</button>
      </div>
    </div>
  </div>

  <div class="modal" id="rules-modal" aria-hidden="true" role="dialog">
    <div class="modal__dialog">
      <div class="modal__header">
        <h3>Zasady gry</h3>
        <button class="modal__close" type="button" data-action="close-modal">Zamknij</button>
      </div>
      <div class="modal__body">
        <p>Odkrywacie po jednej zdrapce i decydujecie, czy dana propozycja pasuje do Waszego nastroju.</p>
        <p>JeÅ›li nie â€“ odkrywacie nastÄ™pnÄ…. MoÅ¼ecie teÅ¼ zatrzymaÄ‡ siÄ™ po dowolnej liczbie losowaÅ„.</p>
      </div>
    </div>
  </div>

  <script src="game-intro.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const modal = document.getElementById('rules-modal');
      const openBtn = document.querySelector('[data-action="open-rules"]');
      const closeBtn = modal?.querySelector('[data-action="close-modal"]');
      const openModal = () => {
        modal?.classList.add('is-open');
        modal?.setAttribute('aria-hidden', 'false');
      };
      const closeModal = () => {
        modal?.classList.remove('is-open');
        modal?.setAttribute('aria-hidden', 'true');
      };
      openBtn?.addEventListener('click', openModal);
      closeBtn?.addEventListener('click', closeModal);
      modal?.addEventListener('click', (event) => {
        if (event.target === modal) closeModal();
      });
    });
  </script>
</body>
</html>
