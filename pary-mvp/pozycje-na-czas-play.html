<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex" />
  <title>Pozycje na czas</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="momenty-theme.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">
  <script type="module" src="assets/js/pozycje-na-czas.js"></script>
</head>
<body class="page page--timer momenty-app" data-theme="dark" data-game-id="pozycje_na_czas">
  <div class="game-topbar">
    <div>
      <p class="game-topbar__title">Pozycje na czas</p>
      <p class="game-topbar__subtitle">Losujcie propozycjÄ™ i ustawcie wspÃ³lny timer â€“ komfort ponad wynik.</p>
    </div>
    <div class="game-topbar__actions">
      <a class="btn btn-ghost" href="index.html">ZmieÅ„ grÄ™</a>
      <button class="btn btn-secondary" type="button" data-action="open-rules">Zasady</button>
    </div>
  </div>
  <main class="container">
    <header class="hero">
      <div class="hero__branding">
        <a class="hero__logo-link" href="index.html">
          <img
            class="hero__logo"
            src="https://sklep.allemedia.pl/momenty/logo.png"
            alt="Momenty"
          />
        </a>
        <div class="hero__text">
          <h1>Pozycje na czas</h1>
          <p>Losuj pozycjÄ™, ustaw odliczanie i bawcie siÄ™ w rytmie zegara.</p>
        </div>
        <details class="game-switcher">
          <summary class="game-switcher__toggle">Wybierz grÄ™</summary>
          <div class="game-switcher__panel">
            <ul class="game-switcher__list">
              <li><a class="game-switcher__link" href="pytania-dla-par.html">Pytania dla par</a></li>
              <li><a class="game-switcher__link" href="nigdy-przenigdy.html">Nigdy przenigdy</a></li>
              <li><a class="game-switcher__link" href="plan-wieczoru.html">Plan Wieczoru â€“ We Dwoje</a></li>
              <li><a class="game-switcher__link" href="planszowa.html">PlanszÃ³wka dla dwojga (dla dorosÅ‚ych)</a></li>
              <li><a class="game-switcher__link" href="planszowa-romantyczna.html">PlanszÃ³wka dla dwojga (romantyczna, zbliÅ¼ajÄ…ca)</a></li>
              <li><a class="game-switcher__link" href="trio-challenge.html">KÃ³Å‚ko i krzyÅ¼yk Wyzwanie</a></li>
              <li><a class="game-switcher__link" href="zdrapka-pozycji.html">Zdrapka pozycji</a></li>
              <li><a class="game-switcher__link" href="pozycje-na-czas.html" aria-current="page">Pozycje na czas</a></li>
              <li><a class="game-switcher__link" href="niegrzeczne-kolo.html">Niegrzeczne koÅ‚o</a></li>
              <li><a class="game-switcher__link" href="poznaj-wszystkie-pozycje.html">Poznaj wszystkie pozycje</a></li>
              <li><a class="game-switcher__link" href="tinder-dla-sexu.html">Tinder z pozycjami</a></li>
              <li><a class="game-switcher__link" href="5-7-10.html">5 â€¢ 7 â€¢ 10 sekund</a></li>
            </ul>
          </div>
        </details>
      </div>
      <button class="btn btn--ghost" id="theme-toggle" type="button" aria-label="PrzeÅ‚Ä…cz motyw">ğŸŒ™</button>
    </header>

    <section class="card card--timer" id="timer-card">
      <div class="timer-card__header">
        <div class="timer-duration" role="group" aria-label="Czas odliczania">
          <label class="timer-duration__option">
            <input type="radio" name="timer_duration" value="30" />
            <span>30 s</span>
          </label>
          <label class="timer-duration__option">
            <input type="radio" name="timer_duration" value="60" checked />
            <span>60 s</span>
          </label>
          <label class="timer-duration__option">
            <input type="radio" name="timer_duration" value="120" />
            <span>120 s</span>
          </label>
        </div>
        <p class="timer-card__status" id="timer-status" role="status" aria-live="polite">
          ÅadujÄ™ pozycjÄ™...
        </p>
      </div>
      <div class="timer-card__media" id="timer-media">
        <img id="timer-image" alt="Losowa pozycja" />
      </div>
      <div class="timer-card__progress">
        <progress id="timer-progress" max="60" value="0" aria-describedby="timer-remaining"></progress>
        <span id="timer-remaining">00:00</span>
      </div>
      <div class="timer-card__actions">
        <button type="button" class="btn btn--ghost" id="skip-position">PomiÅ„ pozycjÄ™</button>
        <button type="button" class="btn btn--primary" id="start-timer">Zaczynamy zabawÄ™</button>
      </div>
    </section>

    <footer class="footer">
      <nav class="footer__nav">
        <a href="index.html">PowrÃ³t do wyboru gier</a>
      </nav>
    </footer>
  </main>
  <div
    class="timer-overlay"
    id="timer-overlay"
    data-mode="hidden"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div class="timer-overlay__countdown" id="timer-countdown"></div>
    <div class="timer-overlay__celebration" id="timer-celebration">
      <div class="timer-overlay__message">
        <span class="timer-overlay__headline">Gratulacje!</span>
        <span class="timer-overlay__subline">UdaÅ‚o siÄ™!</span>
      </div>
    </div>
  </div>

  <div class="game-intro-overlay">
    <div class="game-intro">
      <h2>Zanim zaczniecieâ€¦</h2>
      <p>Losujcie propozycjÄ™ i ustawiajcie wspÃ³lny timer tylko na to, na co macie ochotÄ™.</p>
      <ul>
        <li>Ustalcie dÅ‚ugoÅ›Ä‡ czasu, ktÃ³ry jest komfortowy dla Was obojga.</li>
        <li>DowolnÄ… propozycjÄ™ moÅ¼ecie pominÄ…Ä‡ i wylosowaÄ‡ nowÄ….</li>
        <li>JeÅ›li coÅ› nie pasuje, zatrzymajcie licznik i wrÃ³Ä‡cie do spokojniejszego tempa.</li>
      </ul>
      <div class="game-overlay__actions">
        <button class="btn btn-primary" type="button" data-intro-start>Zaczynamy</button>
      </div>
    </div>
  </div>

  <div class="modal" id="rules-modal" aria-hidden="true" role="dialog">
    <div class="modal__dialog">
      <div class="modal__header">
        <h3>Zasady gry</h3>
        <button class="modal__close" type="button" data-action="close-modal">Zamknij</button>
      </div>
      <div class="modal__body">
        <p>Losujcie pozycjÄ™, wybierzcie czas i obserwujcie odliczanie. MoÅ¼ecie pauzowaÄ‡ lub zresetowaÄ‡ licznik, kiedy tylko tego potrzebujecie.</p>
        <p>KaÅ¼dÄ… propozycjÄ™ moÅ¼ecie pominÄ…Ä‡ â€“ gra ma wspieraÄ‡ Wasz komfort.</p>
      </div>
    </div>
  </div>

  <script src="game-intro.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const modal = document.getElementById('rules-modal');
      const openBtn = document.querySelector('[data-action="open-rules"]');
      const closeBtn = modal?.querySelector('[data-action="close-modal"]');
      const openModal = () => {
        modal?.classList.add('is-open');
        modal?.setAttribute('aria-hidden', 'false');
      };
      const closeModal = () => {
        modal?.classList.remove('is-open');
        modal?.setAttribute('aria-hidden', 'true');
      };
      openBtn?.addEventListener('click', openModal);
      closeBtn?.addEventListener('click', closeModal);
      modal?.addEventListener('click', (event) => {
        if (event.target === modal) closeModal();
      });
    });
  </script>
</body>
</html>
